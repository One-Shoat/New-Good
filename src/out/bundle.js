(()=>{function p(t,e,a,r,l,h){let n=new Image;n.src=e,t.drawImage(n,a,r,l,h)}function w(t,e,a,r,l,h){let n="";e=="roboto"&&(n="24px Roboto"),e=="arial"&&(n="24px Arial"),t.font=n,t.fillStyle=a,t.fillText(r,l,h)}var d={i:0},x=[],M=document.getElementById("game");function j(t){for(let e=0;e<t;e++)i.push({id:e,x:Math.floor(Math.random()*M.width),y:Math.floor(Math.random()*M.height),img:"./assets/sprite_0.png",type:"bugener",life:3})}function y(){x.forEach(e=>clearTimeout(e)),x=[];let t=0;for(d.i=0;d.i<1e3;d.i++){let e=d.i,a=setTimeout(()=>{j(3*e)},t);x.push(a),t+=12e3}}var o=document.getElementById("game"),s=o.getContext("2d"),i=[];o.width=window.innerWidth;o.height=window.innerHeight;var f=0,g,m,c=3,b=!1,P={point:f,life:c},u=!1;addEventListener("mousedown",t=>{if(g=t.clientX,m=t.clientY,b=!0,A(g,m,o.width-16,o.height-16,.1)){if(u==!0)return u=!1;u=!0}for(let e=0;e<i.length;e++)if(i[e].life==2&&(i[e].img="./assets/sprite_1.png"),i[e].life==1&&(i[e].img="./assets/sprite_2.png"),b&&A(i[e].x,i[e].y,g,m,.06)){i[e].life-=1,f+=1;break}});addEventListener("mouseup",t=>{g=0,m=0,b=!1});function X(){c==0&&(i=[],d.i=0,w(s,"arial","red","A energia, foi redestribuida por todos os cantos do universo.",50,50),setTimeout(()=>{c==0&&(f>14?f-=15:f-=f,d.i=0,y()),c=3},2e3))}function A(t,e,a,r,l){let h=Math.abs(a-t),n=Math.abs(r-e);return h<=l*o.width&&n<=l*o.height}function Y(t,e,a,r,l,h,n){let _=a-t,v=r-e,I=Math.sqrt(_*_+v*v),T=(h+n)/4;return I<T+l*o.width}y();function E(){requestAnimationFrame(E),s.clearRect(0,0,o.width,o.height);for(let t=0;t<i.length;t++){let e=20,a=20,r=o.width/2-i[t].x,l=o.height/2-i[t].y,h=i[t].x+r*.008,n=i[t].y+l*.008;i[t].x=h,i[t].y=n,i[t].life<0&&i.splice(t,1),Y(i[t].x,i[t].y,o.width/2,o.height/2,.04,e,a)&&(i.splice(t,1),c-=1),p(s,i[t].img,i[t].x,i[t].y,50,50)}X();for(let t=0;t<c;t++)p(s,"https://cdn.discordapp.com/attachments/1087504461364207656/1095433836432740362/Coracao_cheio.png",t*50,0,150,150);u==!0&&(s.globalAlpha=.9,p(s,"https://media.discordapp.net/attachments/1087503910098436158/1095756195362508810/sprite__grama_de_pontos0_1.png?width=120&height=120",o.width-128,o.height-256,128,128),s.globalAlpha=1),w(s,"roboto","blue",`Points: ${f}`,500,70),p(s,"https://media.discordapp.net/attachments/1087504461364207656/1095456781418893433/image.png?width=120&height=120",o.width-128,o.height-128,128,128),p(s,"https://media.discordapp.net/attachments/1091018990089932850/1093625787413966903/New_Piskel_20.png?width=128&height=128",o.width/2,o.height/2,50,50)}E();})();
